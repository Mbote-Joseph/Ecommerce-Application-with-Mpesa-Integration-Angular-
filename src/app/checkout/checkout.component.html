<div class="container mt-4">
  <h3>🧾 Checkout</h3>

  <div *ngIf="cart.length === 0" class="alert alert-warning">Your cart is empty.</div>

  <div *ngIf="cart.length > 0">
    <ul class="list-group mb-3">
      <li *ngFor="let item of cart" class="list-group-item d-flex justify-content-between">
        {{ item.name }}
        <span>Ksh {{ item.price }}</span>
      </li>
    </ul>

    <h5>Total: <strong>Ksh {{ getTotal() }}</strong></h5>

    <div class="mt-3">
      <label for="phone">📱 Phone Number</label>
      <input
        type="text"
        id="phone"
        [(ngModel)]="phone"
        class="form-control w-50"
        placeholder="e.g. 254712345678"
      />
    </div>

    <button
      class="btn btn-success mt-3"
      (click)="payWithMpesa()"
      [disabled]="isProcessing"
    >
      {{ isProcessing ? 'Processing...' : 'Pay with M-Pesa' }}
    </button>

    <div *ngIf="message" class="mt-3 alert" [ngClass]="{
      'alert-success': message.startsWith('✅'),
      'alert-danger': message.startsWith('❌')
    }">
      {{ message }}
    </div>
  </div>
</div>
